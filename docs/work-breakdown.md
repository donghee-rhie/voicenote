# VoiceNote Electron 작업 분해 구조 (WBS)

**작성일:** 2026년 1월 27일

---

## 작업 ID 규칙

`P{Phase}.{Task}` 형식 (예: P1.1 = Phase 1, Task 1)

---

## 의존성 다이어그램

```
P1.1 ─┬→ P1.2 → P1.3 → P1.4 → P1.5
      │    │              ↓
      │    ├→ P3.1 ─┬→ P3.2 ──────────────────┐
      │    │        ├→ P3.3 ──────────────────┤
      │    │        ├→ P3.4 ──────────────────┤
      │    │        ├→ P3.5 ──────────────────┤
      │    │        └→ P3.6 ────────────────┐ │
      │    ├→ P7.1                          │ │
      │    ├→ P7.2                          │ │
      │    ├→ P7.3                          │ │
      │    └→ P7.5                          │ │
      │                                     │ │
      ├→ P2.1 → P2.2 → P2.3 → P2.4        │ │
      │                  ↓ (P2.3)           │ │
      │          P3.3, P3.5, P3.6 에 합류   │ │
      │                                     │ │
      └→ P9.1 → P9.2 ──────────────────────┘ │
                                               │
P1.4 ─┬→ P4.1 → P4.2 ─┬→ P4.3               │
      │         ↓      ├→ P4.4               │
      └→ P4.5  P4.2 ───┘                     │
           ↓                                   │
         P7.4                                  │
                                               ↓
         (P3.2+P3.3+P3.4+P3.5+P4.2) → P5.1 → P5.2 → P5.3 → P5.4
                                                                 ↓
         (P4.1+P4.5) → P6.1 ─┬→ P6.2                           │
                              ├→ P6.3                           │
                              └→ P6.4 ──────────────────────────┤
                                                                 ↓
                              (P5.4+P6.4+P7.5) → P8.1 → P8.2 ─┬→ P8.3
                                                                └→ P8.4
         P9.2 → P9.3 (←P5.4) → P9.4 → P9.5
```

---

## 크리티컬 패스

```
P1.1 → P1.2 → P1.3 → P1.4 → P4.1 → P4.2 → P5.1 → P5.2 → P5.3 → P5.4 → P8.1 → P8.2
```

---

## Phase 1: 프로젝트 초기 설정

### P1.1 프로젝트 초기화 및 패키지 설정
| 항목 | 내용 |
|------|------|
| **설명** | npm init, package.json, 핵심 의존성 설치 (electron, react, typescript, vite) |
| **산출물** | `package.json`, `tsconfig.json`, `.env.example`, `.gitignore` |
| **선행 작업** | 없음 |
| **후행 작업** | P1.2, P2.1, P9.1 |
| **완료 기준** | `npm install` 성공, TypeScript 컴파일 가능 |

### P1.2 Electron 메인 프로세스 기본 구조
| 항목 | 내용 |
|------|------|
| **설명** | Electron 앱 진입점, BrowserWindow 생성, preload 스크립트 |
| **산출물** | `src/main/index.ts`, `src/main/window.ts`, `src/main/preload.ts` |
| **선행 작업** | P1.1 |
| **후행 작업** | P1.3, P3.1, P7.1, P7.2, P7.3, P7.5 |
| **완료 기준** | `electron .` 실행 시 빈 창 표시 |

### P1.3 React + Vite 렌더러 설정
| 항목 | 내용 |
|------|------|
| **설명** | Vite로 React 앱 빌드, Electron 렌더러와 연결 |
| **산출물** | `vite.config.ts`, `src/renderer/index.tsx`, `src/renderer/App.tsx`, `src/renderer/main.html` |
| **선행 작업** | P1.2 |
| **후행 작업** | P1.4, P1.5 |
| **완료 기준** | Electron 창에서 React 렌더링 확인 |

### P1.4 Tailwind CSS + shadcn/ui 설정
| 항목 | 내용 |
|------|------|
| **설명** | Tailwind 설치, shadcn/ui 초기화, 기본 컴포넌트 추가 |
| **산출물** | `tailwind.config.js`, `postcss.config.js`, `globals.css`, `components.json`, `ui/` 컴포넌트 |
| **선행 작업** | P1.3 |
| **후행 작업** | P4.1, P4.5 |
| **완료 기준** | shadcn/ui 버튼이 Tailwind 스타일과 함께 렌더링 |

### P1.5 개발 환경 스크립트 구성
| 항목 | 내용 |
|------|------|
| **설명** | dev/build/start 스크립트, concurrently main+renderer, HMR |
| **산출물** | `package.json` scripts 업데이트 |
| **선행 작업** | P1.3 |
| **후행 작업** | 없음 |
| **완료 기준** | `npm run dev` → Electron 앱 + HMR 작동 |

---

## Phase 2: 데이터베이스 설계

### P2.1 Prisma + SQLite 설정
| 항목 | 내용 |
|------|------|
| **설명** | Prisma 설치, SQLite provider 설정 |
| **산출물** | `prisma/schema.prisma` (datasource+generator), `.env` |
| **선행 작업** | P1.1 |
| **후행 작업** | P2.2 |
| **완료 기준** | `npx prisma generate` 성공 |

### P2.2 스키마 정의 (5개 모델)
| 항목 | 내용 |
|------|------|
| **설명** | User, Session, UserSettings, ActivityLog, SystemSetting 모델 |
| **산출물** | `prisma/schema.prisma` (전체 모델) |
| **선행 작업** | P2.1 |
| **후행 작업** | P2.3 |
| **완료 기준** | `npx prisma migrate dev --name init` 성공 |

### P2.3 데이터베이스 초기화 서비스
| 항목 | 내용 |
|------|------|
| **설명** | userData 경로에 SQLite DB 생성, Prisma 싱글톤, WAL 모드 |
| **산출물** | `src/main/services/database.ts` |
| **선행 작업** | P2.2 |
| **후행 작업** | P2.4, P3.3, P3.5, P3.6 |
| **완료 기준** | 앱 시작 시 DB 생성, 기본 쿼리 동작 |

### P2.4 시드 데이터
| 항목 | 내용 |
|------|------|
| **설명** | 기본 admin 사용자, 시스템 설정 초기값 |
| **산출물** | `prisma/seed.ts` |
| **선행 작업** | P2.3 |
| **후행 작업** | 없음 |
| **완료 기준** | 첫 실행 시 기본 데이터 자동 생성 |

---

## Phase 3: 메인 프로세스 개발

### P3.1 공통 타입 및 IPC 채널 정의
| 항목 | 내용 |
|------|------|
| **설명** | IPC 채널명 상수, Request/Response 타입, 공유 에러 클래스 |
| **산출물** | `src/common/types/ipc.ts`, `types/session.ts`, `types/user.ts`, `constants.ts`, `errors.ts` |
| **선행 작업** | P1.2 |
| **후행 작업** | P3.2, P3.3, P3.4, P3.5, P3.6, P4.2 |
| **완료 기준** | main/renderer 양쪽에서 import 가능 |

### P3.2 오디오 녹음 서비스
| 항목 | 내용 |
|------|------|
| **설명** | 렌더러 MediaRecorder → IPC → main에서 WAV 저장 |
| **산출물** | `src/main/services/audio-recorder.ts`, `src/main/ipc/audio.ts` |
| **선행 작업** | P3.1 |
| **후행 작업** | P5.1 |
| **완료 기준** | 녹음 시작/중지, 오디오 파일 저장 |

### P3.3 STT 변환 서비스
| 항목 | 내용 |
|------|------|
| **설명** | OpenAI Whisper + ElevenLabs API 통합, provider 추상화 |
| **산출물** | `src/main/services/transcription.ts`, `src/main/ipc/transcription.ts` |
| **선행 작업** | P3.1, P2.3 |
| **후행 작업** | P5.1 |
| **완료 기준** | 오디오 → 텍스트 변환 성공 |

### P3.4 LLM 텍스트 정제 서비스
| 항목 | 내용 |
|------|------|
| **설명** | OpenAI Chat Completions, 포맷 타입별 프롬프트, 요약 생성 |
| **산출물** | `src/main/services/llm-refiner.ts`, `src/main/ipc/refinement.ts` |
| **선행 작업** | P3.1 |
| **후행 작업** | P5.1 |
| **완료 기준** | DEFAULT/FORMATTED/SCRIPT/AUTO 정제 + 요약 성공 |

### P3.5 세션 CRUD 핸들러
| 항목 | 내용 |
|------|------|
| **설명** | 세션 생성/조회/수정/삭제/검색 IPC 핸들러 |
| **산출물** | `src/main/ipc/session.ts` |
| **선행 작업** | P3.1, P2.3 |
| **후행 작업** | P5.1 |
| **완료 기준** | 세션 CRUD IPC 동작 |

### P3.6 설정/사용자/로그 핸들러
| 항목 | 내용 |
|------|------|
| **설명** | 사용자 설정/시스템 설정 CRUD, 사용자 관리, 활동 로그 |
| **산출물** | `src/main/ipc/settings.ts`, `src/main/ipc/user.ts`, `src/main/services/activity-logger.ts` |
| **선행 작업** | P3.1, P2.3 |
| **후행 작업** | P6.2, P6.3, P6.4, P9.2 |
| **완료 기준** | 설정/사용자/로그 IPC 동작 |

---

## Phase 4: 렌더러 프로세스 (UI)

### P4.1 라우팅 및 레이아웃
| 항목 | 내용 |
|------|------|
| **설명** | React Router v6, Layout/Sidebar/Header, PrivateRoute |
| **산출물** | `App.tsx`, `Layout.tsx`, `Sidebar.tsx`, `Header.tsx`, `PrivateRoute.tsx` |
| **선행 작업** | P1.4 |
| **후행 작업** | P4.2, P4.3, P4.4, P6.1 |
| **완료 기준** | 페이지 네비게이션, 사이드바/헤더 렌더링 |

### P4.2 IPC Hook 및 Context
| 항목 | 내용 |
|------|------|
| **설명** | useIPC, useRecording, useSession, useAuth Hook, AuthContext, SettingsContext |
| **산출물** | `hooks/useIPC.ts`, `useRecording.ts`, `useSession.ts`, `useAuth.ts`, `context/AuthContext.tsx`, `SettingsContext.tsx` |
| **선행 작업** | P4.1, P3.1 |
| **후행 작업** | P4.3, P4.4, P5.1 |
| **완료 기준** | IPC invoke/on/off 동작, 상태 관리 정상 |

### P4.3 로그인/인증 UI
| 항목 | 내용 |
|------|------|
| **설명** | 로그인 페이지 (데스크톱 간소화) |
| **산출물** | `pages/Login.tsx` |
| **선행 작업** | P4.2 |
| **후행 작업** | 없음 |
| **완료 기준** | 로그인 폼 동작, 인증 상태 유지 |

### P4.4 대시보드
| 항목 | 내용 |
|------|------|
| **설명** | 통계 카드, 최근 세션, 빠른 녹음 시작 |
| **산출물** | `pages/Dashboard.tsx` |
| **선행 작업** | P4.2 |
| **후행 작업** | 없음 |
| **완료 기준** | 통계 + 최근 세션 렌더링 |

### P4.5 공통 UI 컴포넌트
| 항목 | 내용 |
|------|------|
| **설명** | shadcn/ui 추가 (Table, Tabs, Badge, Skeleton, Dialog, Select 등), AudioPlayer, AudioDropZone |
| **산출물** | `components/ui/*`, `AudioPlayer.tsx`, `AudioDropZone.tsx` |
| **선행 작업** | P1.4 |
| **후행 작업** | P5.1, P6.1, P7.4 |
| **완료 기준** | 모든 필수 UI 컴포넌트 사용 가능 |

---

## Phase 5: 핵심 기능 구현

### P5.1 녹음-변환-정제 통합 워크플로우
| 항목 | 내용 |
|------|------|
| **설명** | 녹음→STT→정제→요약→DB 저장 전체 파이프라인 |
| **산출물** | `services/workflow.ts`, `pages/Recording.tsx`, `components/recording/RecordingPanel.tsx` |
| **선행 작업** | **P3.2, P3.3, P3.4, P3.5, P4.2** |
| **후행 작업** | P5.2 |
| **완료 기준** | 녹음→변환→정제→저장 전체 흐름 동작 |

### P5.2 세션 목록 및 검색
| 항목 | 내용 |
|------|------|
| **설명** | 세션 목록, 키워드 검색, 상태 필터, 페이지네이션 |
| **산출물** | `pages/SessionList.tsx` |
| **선행 작업** | P5.1 |
| **후행 작업** | P5.3 |
| **완료 기준** | 목록/검색/필터/페이지네이션 동작 |

### P5.3 세션 상세 및 타임라인
| 항목 | 내용 |
|------|------|
| **설명** | 세션 상세, 원본/정제 텍스트, 요약, 타임라인 뷰 |
| **산출물** | `pages/SessionDetail.tsx`, `components/session/TimelineView.tsx`, `SummaryView.tsx`, `SessionResult.tsx` |
| **선행 작업** | P5.2 |
| **후행 작업** | P5.4 |
| **완료 기준** | 상세 정보 표시, 타임라인 뷰 동작 |

### P5.4 내보내기 기능
| 항목 | 내용 |
|------|------|
| **설명** | 텍스트/마크다운/PDF 내보내기, 파일 저장 다이얼로그 |
| **산출물** | `services/exporter.ts`, `ipc/export.ts` |
| **선행 작업** | P5.3 |
| **후행 작업** | P8.1, P9.3 |
| **완료 기준** | 텍스트/마크다운 내보내기 성공 |

---

## Phase 6: 관리자 기능

### P6.1 관리자 페이지 레이아웃
| 항목 | 내용 |
|------|------|
| **설명** | 탭 기반 관리자 패널 (사용자/설정/로그/통계) |
| **산출물** | `pages/Admin.tsx` |
| **선행 작업** | P4.1, P4.5 |
| **후행 작업** | P6.2, P6.3, P6.4 |
| **완료 기준** | 탭 네비게이션 동작 |

### P6.2 사용자 관리
| 항목 | 내용 |
|------|------|
| **설명** | 사용자 목록, 승인/거부, 역할 변경, 삭제 |
| **산출물** | `pages/admin/UserManagement.tsx` |
| **선행 작업** | P6.1, P3.6 |
| **후행 작업** | 없음 |
| **완료 기준** | 사용자 CRUD 및 상태 변경 동작 |

### P6.3 시스템 설정 및 활동 로그
| 항목 | 내용 |
|------|------|
| **설명** | 시스템 설정 관리 UI, 활동 로그 조회/필터 |
| **산출물** | `pages/admin/SystemSettings.tsx`, `pages/admin/ActivityLogs.tsx` |
| **선행 작업** | P6.1, P3.6 |
| **후행 작업** | 없음 |
| **완료 기준** | 설정 저장/불러오기, 로그 조회 동작 |

### P6.4 통계 대시보드
| 항목 | 내용 |
|------|------|
| **설명** | 전체 사용자 수, 세션 수, 활동 통계 |
| **산출물** | `pages/admin/Statistics.tsx` |
| **선행 작업** | P6.1, P3.6 |
| **후행 작업** | P8.1 |
| **완료 기준** | 통계 카드 렌더링 |

---

## Phase 7: 시스템 통합

### P7.1 전역 단축키
| 항목 | 내용 |
|------|------|
| **설명** | Ctrl+Alt+R 녹음, Ctrl+Alt+Q 창 토글, Ctrl+Alt+V 클립보드 |
| **산출물** | `src/main/shortcuts.ts` |
| **선행 작업** | P1.2 |
| **후행 작업** | 없음 |
| **완료 기준** | 백그라운드에서도 단축키 동작 |

### P7.2 시스템 트레이
| 항목 | 내용 |
|------|------|
| **설명** | 트레이 아이콘, 컨텍스트 메뉴 |
| **산출물** | `src/main/tray.ts`, `public/icons/tray-icon.png` |
| **선행 작업** | P1.2 |
| **후행 작업** | 없음 |
| **완료 기준** | 트레이 아이콘 + 메뉴 동작 |

### P7.3 클립보드 통합
| 항목 | 내용 |
|------|------|
| **설명** | 변환 결과 자동 복사, pasteFormat 설정 반영 |
| **산출물** | `src/main/services/clipboard.ts` |
| **선행 작업** | P1.2 |
| **후행 작업** | 없음 |
| **완료 기준** | 텍스트 클립보드 복사 동작 |

### P7.4 드래그 앤 드롭
| 항목 | 내용 |
|------|------|
| **설명** | 오디오 파일 드래그 → 변환 시작 |
| **산출물** | `src/renderer/components/AudioDropZone.tsx` |
| **선행 작업** | P4.5 |
| **후행 작업** | 없음 |
| **완료 기준** | 오디오 파일 드롭 시 변환 시작 |

### P7.5 오토스타트
| 항목 | 내용 |
|------|------|
| **설명** | 시스템 시작 시 앱 자동 실행 |
| **산출물** | `src/main/services/auto-start.ts` |
| **선행 작업** | P1.2 |
| **후행 작업** | P8.1 |
| **완료 기준** | 로그인 아이템 설정/해제 동작 |

---

## Phase 8: 빌드 및 배포

### P8.1 electron-builder 설정
| 항목 | 내용 |
|------|------|
| **설명** | appId, 빌드 리소스, macOS/Windows 타겟 |
| **산출물** | `electron-builder.yml`, `public/icons/` |
| **선행 작업** | **P5.4, P6.4, P7.5** |
| **후행 작업** | P8.2 |
| **완료 기준** | `npm run pack` 성공 |

### P8.2 플랫폼별 빌드
| 항목 | 내용 |
|------|------|
| **설명** | macOS DMG, Windows NSIS, 코드 서명 |
| **산출물** | `dist/packages/*.dmg`, `dist/packages/*.exe` |
| **선행 작업** | P8.1 |
| **후행 작업** | P8.3, P8.4 |
| **완료 기준** | 각 플랫폼 설치/실행 성공 |

### P8.3 자동 업데이트
| 항목 | 내용 |
|------|------|
| **설명** | electron-updater, GitHub Releases 기반 |
| **산출물** | `src/main/update.ts` |
| **선행 작업** | P8.2 |
| **후행 작업** | 없음 |
| **완료 기준** | 새 버전 감지 + 업데이트 알림 |

### P8.4 CI/CD
| 항목 | 내용 |
|------|------|
| **설명** | GitHub Actions 빌드/릴리즈 워크플로우 |
| **산출물** | `.github/workflows/build.yml`, `release.yml` |
| **선행 작업** | P8.2 |
| **후행 작업** | 없음 |
| **완료 기준** | PR 자동 빌드, 태그 자동 릴리즈 |

---

## Phase 9: 테스트 및 최적화

### P9.1 테스트 프레임워크 설정
| 항목 | 내용 |
|------|------|
| **설명** | Vitest, React Testing Library, MSW |
| **산출물** | `vitest.config.ts`, `tests/setup.ts` |
| **선행 작업** | P1.1 |
| **후행 작업** | P9.2 |
| **완료 기준** | `npm test` 실행 가능 |

### P9.2 단위 테스트
| 항목 | 내용 |
|------|------|
| **설명** | 메인 서비스 테스트 (AudioRecorder, Transcription, LLMRefiner, DB) |
| **산출물** | `tests/unit/services/*.test.ts` |
| **선행 작업** | P9.1, P3.6 |
| **후행 작업** | P9.3 |
| **완료 기준** | 커버리지 70% 이상 |

### P9.3 통합 테스트
| 항목 | 내용 |
|------|------|
| **설명** | IPC + 서비스 + DB 통합, 워크플로우 테스트 |
| **산출물** | `tests/integration/*.test.ts` |
| **선행 작업** | P9.2, P5.4 |
| **후행 작업** | P9.4 |
| **완료 기준** | 워크플로우 통합 테스트 통과 |

### P9.4 E2E 테스트
| 항목 | 내용 |
|------|------|
| **설명** | Playwright Electron E2E (녹음, 세션, 설정) |
| **산출물** | `tests/e2e/*.spec.ts` |
| **선행 작업** | P9.3 |
| **후행 작업** | P9.5 |
| **완료 기준** | 주요 시나리오 E2E 통과 |

### P9.5 성능/보안 최적화
| 항목 | 내용 |
|------|------|
| **설명** | 번들 최적화, 메모리 프로파일링, IPC 보안 검토 |
| **산출물** | Vite 최적화, React.memo/useMemo 적용, 보안 체크리스트 |
| **선행 작업** | P9.4 |
| **후행 작업** | 없음 |
| **완료 기준** | 시작 3초 이내, 메모리 200MB 이내, 보안 통과 |

---

## 의존성 매트릭스

| 작업 | 선행 | 후행 |
|------|------|------|
| P1.1 | — | P1.2, P2.1, P9.1 |
| P1.2 | P1.1 | P1.3, P3.1, P7.1, P7.2, P7.3, P7.5 |
| P1.3 | P1.2 | P1.4, P1.5 |
| P1.4 | P1.3 | P4.1, P4.5 |
| P1.5 | P1.3 | — |
| P2.1 | P1.1 | P2.2 |
| P2.2 | P2.1 | P2.3 |
| P2.3 | P2.2 | P2.4, P3.3, P3.5, P3.6 |
| P2.4 | P2.3 | — |
| P3.1 | P1.2 | P3.2, P3.3, P3.4, P3.5, P3.6, P4.2 |
| P3.2 | P3.1 | P5.1 |
| P3.3 | P3.1, P2.3 | P5.1 |
| P3.4 | P3.1 | P5.1 |
| P3.5 | P3.1, P2.3 | P5.1 |
| P3.6 | P3.1, P2.3 | P6.2, P6.3, P6.4, P9.2 |
| P4.1 | P1.4 | P4.2, P4.3, P4.4, P6.1 |
| P4.2 | P4.1, P3.1 | P4.3, P4.4, P5.1 |
| P4.3 | P4.2 | — |
| P4.4 | P4.2 | — |
| P4.5 | P1.4 | P5.1, P6.1, P7.4 |
| P5.1 | P3.2, P3.3, P3.4, P3.5, P4.2 | P5.2 |
| P5.2 | P5.1 | P5.3 |
| P5.3 | P5.2 | P5.4 |
| P5.4 | P5.3 | P8.1, P9.3 |
| P6.1 | P4.1, P4.5 | P6.2, P6.3, P6.4 |
| P6.2 | P6.1, P3.6 | — |
| P6.3 | P6.1, P3.6 | — |
| P6.4 | P6.1, P3.6 | P8.1 |
| P7.1 | P1.2 | — |
| P7.2 | P1.2 | — |
| P7.3 | P1.2 | — |
| P7.4 | P4.5 | — |
| P7.5 | P1.2 | P8.1 |
| P8.1 | P5.4, P6.4, P7.5 | P8.2 |
| P8.2 | P8.1 | P8.3, P8.4 |
| P8.3 | P8.2 | — |
| P8.4 | P8.2 | — |
| P9.1 | P1.1 | P9.2 |
| P9.2 | P9.1, P3.6 | P9.3 |
| P9.3 | P9.2, P5.4 | P9.4 |
| P9.4 | P9.3 | P9.5 |
| P9.5 | P9.4 | — |

---

## 병렬 실행 가능 그룹

| 그룹 | 선행 조건 | 병렬 작업 |
|------|----------|----------|
| A | P1.1 완료 | P1.2, P2.1, P9.1 |
| B | P1.2 완료 | P1.3, P3.1, P7.1, P7.2, P7.3, P7.5 |
| C | P3.1 + P2.3 완료 | P3.2, P3.3, P3.4, P3.5, P3.6 |
| D | P4.1 완료 | P4.2, P4.3, P4.4 |
| E | P6.1 + P3.6 완료 | P6.2, P6.3, P6.4 |
| F | P8.2 완료 | P8.3, P8.4 |

---

## 전체 작업 수 요약

| Phase | 작업 수 | 설명 |
|-------|--------|------|
| Phase 1 | 5 | 프로젝트 초기 설정 |
| Phase 2 | 4 | 데이터베이스 설계 |
| Phase 3 | 6 | 메인 프로세스 개발 |
| Phase 4 | 5 | 렌더러 UI 개발 |
| Phase 5 | 4 | 핵심 기능 구현 |
| Phase 6 | 4 | 관리자 기능 |
| Phase 7 | 5 | 시스템 통합 |
| Phase 8 | 4 | 빌드 및 배포 |
| Phase 9 | 5 | 테스트 및 최적화 |
| **합계** | **42** | |

---

**문서 버전:** 1.0
**최종 수정:** 2026년 1월 27일
